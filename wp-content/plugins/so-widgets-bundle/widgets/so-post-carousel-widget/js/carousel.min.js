jQuery(function(e){e(".sow-carousel-wrapper").each(function(){var a=e(this),t=a.closest(".sow-carousel-container"),s=a.closest(".sow-carousel-container").parent(),n=a.find(".sow-carousel-items"),o=a.find(".sow-carousel-item"),r=o.eq(0),i=0,l=1,c=!1,u=o.length,f=a.data("found-posts"),d=u==f,w=r.width()+parseInt(r.css("margin-right")),g=t.hasClass("js-rtl"),h=g?"margin-right":"margin-left",p=function(){0>i&&(i=0),i>=a.find(".sow-carousel-item").length-1&&(i=a.find(".sow-carousel-item").length-1,c||d||(c=!0,l++,n.append('<li class="sow-carousel-item sow-carousel-loading"></li>'),e.get(a.data("ajax-url"),{query:a.data("query"),action:"sow_carousel_load",paged:l},function(t,s){var o=e(t.html);o.appendTo(n).hide().fadeIn(),a.find(".sow-carousel-loading").remove(),u=a.find(".sow-carousel-item").length,d=u==f,c=!1}))),n.css("transition-duration","0.45s"),n.css(h,-(w*i)+"px")};s.on("click","a.sow-carousel-previous",function(e){e.preventDefault(),i-=g?-1:1,p()}),s.on("click","a.sow-carousel-next",function(e){e.preventDefault(),i+=g?-1:1,p()});var m,v=!1,D=0,I=0,T=0,x=0,M=g?"right":"left";a.swipe({excludedElements:"",triggerOnTouchEnd:!0,threshold:75,swipeStatus:function(e,a,t,s,n,o,r){if("start"==a)I=-(w*i),x=(new Date).getTime(),clearInterval(m);else if("move"==a){t==M&&(s*=-1),b(I+s);var l=(new Date).getTime(),c=(l-x)/1e3;T=(s-D)/c,x=l,D=s}else if("end"==a)if(v=!0,t==M&&(s*=-1),Math.abs(T)>400){T*=.1;var u=(new Date).getTime(),f=0;m=setInterval(function(){var e=((new Date).getTime()-u)/1e3;f+=T*e;var a=I+s+f,n=30,o=Math.abs(T)-n<0;t==M?T+=n:T-=n,(o||!b(a))&&(clearInterval(m),j())},20)}else j();else"cancel"==a&&p()}});var b=function(e){return 50>e&&e>-(w*u)?(n.css("transition-duration","0s"),n.css(h,e+"px"),!0):!1},j=function(){var e=parseInt(n.css(h));i=Math.abs(Math.round(e/w)),p()};a.on("click",".sow-carousel-item a",function(e){v&&(e.preventDefault(),v=!1)})})});