/*
Plugin Name: Juiz Social Post Sharer
Plugin URI: http://www.creativejuiz.fr/blog/wordpress/plugin-juiz-social-post-sharer-partage-contenu-reseaux-sociaux
Author: Geoffrey Crofte
*/
jQuery(document).ready(function(a){jQuery.fn.juiz_get_counters=function(){return this.each(function(){var c=a(this).find(".juiz_sps_info_plugin_url").val(),b=a(this).find(".juiz_sps_info_permalink").val(),d=a(this).find(".juiz_sps_link_linkedin"),f=a(this).find(".juiz_sps_link_delicious"),g=a(this).find(".juiz_sps_link_facebook"),h=a(this).find(".juiz_sps_link_pinterest"),k=a(this).find(".juiz_sps_link_google"),l=a(this).find(".juiz_sps_link_stumbleupon"),e="";a(this).hasClass("counters_total")&&
(e=" juiz_hidden_counter");var m="//feeds.delicious.com/v2/json/urlinfo/data?url="+b+"&callback=?",n="//api.pinterest.com/v1/urls/count.json?callback=?&url="+b,p="//graph.facebook.com/fql?q=SELECT%20like_count,%20total_count,%20share_count,%20click_count,%20comment_count%20FROM%20link_stat%20WHERE%20url%20=%20%22"+b+"%22",q=c+"js/get-noapi-counts.php?nw=google&url="+b,c=c+"js/get-noapi-counts.php?nw=stumble&url="+b;d.length&&a.getJSON("//www.linkedin.com/countserv/count/share?format=jsonp&url="+b+
"&callback=?").done(function(a){d.prepend('<span class="juiz_sps_counter'+e+'">'+a.count+"</span>")});h.length&&a.getJSON(n).done(function(a){h.prepend('<span class="juiz_sps_counter'+e+'">'+a.count+"</span>")});k.length&&a.getJSON(q).done(function(a){k.prepend('<span class="juiz_sps_counter'+e+'">'+a.count.replace("\u00a0","")+"</span>")});l.length&&a.getJSON(c).done(function(a){l.prepend('<span class="juiz_sps_counter'+e+'">'+a.count+"</span>")});g.length&&a.getJSON(p).done(function(a){var b=0;
0<a.data.length&&(b=a.data[0].total_count);g.prepend('<span class="juiz_sps_counter'+e+'">'+b+"</span>")});f.length&&a.getJSON(m).done(function(a){f.prepend('<span class="juiz_sps_counter'+e+'">'+a[0].total_posts+"</span>")})})};jQuery.fn.juiz_update_counters=function(){return this.each(function(){var c=a(this),b=c.find(".juiz_sps_totalcount"),d=b.find(".juiz_sps_t_nb"),f=b.attr("title");b.prepend('<span class="juiz_sps_total_text">'+f+"</span>");setInterval(function(){var b=0;c.find(".juiz_sps_counter").each(function(){b+=
parseInt(a(this).text())});d.text(b)},1200)})};a(".juiz_sps_links.juiz_sps_counters").juiz_get_counters();0==a(".juiz_sps_links.juiz_sps_counters.counters_subtotal").length&&a(".juiz_sps_counters .juiz_sps_links_list").juiz_update_counters();if(window.print)a(".juiz_sps_link_print").on("click",function(){window.print();return!1});else a(".juiz_sps_link_print").remove();if("addToHomescreen"in window&&window.addToHomescreen.isCompatible||window.sidebar&&window.sidebar.addPanel||window.sidebar&&/Firefox/i.test(navigator.userAgent)||
window.opera&&window.print||window.external&&"AddFavorite"in window.external||chrome)a(".juiz_sps_link_bookmark").find("a").on("click",function(c){var b=window.location.href,d=document.title;if("addToHomescreen"in window&&window.addToHomescreen.isCompatible)addToHomescreen({autostart:!1,startDelay:0}).show(!0);else if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(d,b,"");else{if(window.sidebar&&/Firefox/i.test(navigator.userAgent)||window.opera&&window.print)return a(this).attr({href:b,
title:d,rel:"sidebar"}).off(c),!0;window.external&&"AddFavorite"in window.external?window.external.AddFavorite(b,d):(command=(/Mac/i.test(navigator.userAgent)?"Cmd":"Ctrl")+"+D",message=a(this).data("alert"),message=message.replace(/%s/,command),alert(message))}return!1});else a(".juiz_sps_link_bookmark").remove()});